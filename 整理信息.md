# 水运
## 输入：起始，终到，时间
## 输出：可盈利的对客户最低报价



```mermaid
graph LR
   起始发运地-->起运港;
   起运港.->过驳交货点;
   起运港 --> 目的港;
   过驳交货点.->目的港;
   目的港-->终到站;
   ```

整理出来数据，实现基于原本的数据查询的功能，输入起始发运地，终到站，时间，输出方案以及可盈利的对客户最低报价。  
其中：  
起始发运地到起运港可以采用汽运，在起运港和目的港会有港杂费用，之间通过水运运输，对于过驳交货点，可以有也可以没有分两中情况考虑，经过过驳交货点也需要有费用，从目的港到终到站也用汽运，考虑目的港即为交付地点的情况，即没有终到站。
实现筛选查询功能，选择起始发运地，终到站，时间，然后给出方案以及可盈利的对客户最低报价。  考虑情况水运签单举个例子，如当月15号签到下个月15号，但是计算本月的时候出现分段，那么采用最高的金额，比如1-15号10元，16-30号20元，那么采用都计入20元，并且告知用户我们用了这种方式处理。




```sql
CREATE TABLE `cost_trans_flight_months` (
  `id` varchar(36) NOT NULL COMMENT '主键ID',
  `quotation_date` varchar(10) DEFAULT NULL COMMENT '报价日期(yyyymm)',
  `order_num` varchar(32) DEFAULT NULL COMMENT '合同子项号',
  `logi_org_id` varchar(32) DEFAULT NULL COMMENT '物流组织',
  `expens_catego_code` varchar(10) DEFAULT NULL COMMENT '费用类别代码',
  `expens_catego_name` varchar(64) DEFAULT NULL COMMENT '费用类别名称',
  `trans_mode_code` varchar(32) DEFAULT NULL COMMENT '运输方式',
  `trans_mode_name` varchar(64) DEFAULT NULL COMMENT '运输方式名称',
  `container_flag` varchar(32) DEFAULT NULL COMMENT '集装箱标志',
  `domestic_and_foreign_trade` varchar(32) DEFAULT NULL COMMENT '内外贸',
  `product_type` varchar(32) DEFAULT NULL COMMENT '物流品种码',
  `port_of_loading_code` varchar(32) DEFAULT NULL COMMENT '起始点代码',
  `port_of_loading_name` varchar(200) DEFAULT NULL COMMENT '起始点名称',
  `transfer_type` varchar(32) DEFAULT NULL COMMENT '过驳方式',
  `transfer_name` varchar(200) DEFAULT NULL COMMENT '过驳名称',
  `port_of_destination_code` varchar(32) DEFAULT NULL COMMENT '目的地代码',
  `port_of_destination_name` varchar(200) DEFAULT NULL COMMENT '目的地名称',
  `settlement_area_code` varchar(32) DEFAULT NULL COMMENT '结算区域代码',
  `settlement_area_name` varchar(100) DEFAULT NULL COMMENT '结算区域名称',
  `settlement_amount` decimal(16,2) DEFAULT '0.00' COMMENT '含税价单价',
  `settlement_amount_exc_tax` decimal(16,2) DEFAULT '0.00' COMMENT '不含税单价',
  `nautical_miles` varchar(32) DEFAULT NULL COMMENT '海里数',
  `trans_cost_type` varchar(10) DEFAULT NULL COMMENT '运费费用类别',
  `trans_cost_name` varchar(64) DEFAULT NULL COMMENT '运费费用类别名称',
  `ship_shaped` varchar(2) DEFAULT NULL COMMENT '船型(大/小)',
  `data_status` varchar(2) DEFAULT NULL COMMENT '状态',
  `expiry_start_date` varchar(10) DEFAULT NULL COMMENT '有效开始日期(yyyymmdd)',
  `expiry_end_date` varchar(10) DEFAULT NULL COMMENT '有效结束日期(yyyymmdd)',
  `rec_creator` varchar(32) DEFAULT NULL COMMENT '记录创建人',
  `rec_creator_name` varchar(32) DEFAULT NULL COMMENT '记录创建人姓名',
  `rec_create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '记录创建时间',
  `rec_revisor` varchar(32) DEFAULT NULL COMMENT '记录修改人',
  `rec_revisor_name` varchar(32) DEFAULT NULL COMMENT '记录修改人姓名',
  `rec_revise_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录修改时间',
  `archive_flag` varchar(1) DEFAULT NULL COMMENT '归档标志',
  `archive_time` datetime DEFAULT NULL COMMENT '归档时间',
  `archive_stamp_no` varchar(10) DEFAULT NULL COMMENT '归档邮戳号',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='费用---航线费用月份表';
```